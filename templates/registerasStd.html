

{% load static %} <!-- Load the static template tag -->

<!DOCTYPE html>
<html lang="en">
<head>
    <title>Student Registration Form</title>
    <!-- Latest compiled and minified CSS -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
    />

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <style>
      .main {
        background-image: url({% static 'img/bg_students.bbae6663.jpg' %});
      }
      * {
        font-size: large;
        color: #961e64;
      }
      .form-control {
        height: auto !important;
      }
      .input-group-addon,
      .input-group-btn {
        width: auto !important;
      }
    </style>
</head>
<body class="main p-4">
    <div class="container">
      <form
        class="well form-horizontal"
        action="/student_registration/"
        method="post"
        id="contact_form"
        enctype="multipart/form-data"
        onsubmit="return validateForm()"
      >
        {% csrf_token %} <!-- Add CSRF token to protect against Cross-Site Request Forgery attacks -->
        <fieldset>
          <!-- Form Name -->
          <legend>
            <button class="btn btn-lg btn-danger">
              <a href="{% url 'loginasStd' %}">Back</a>
            </button>
            {% if error_message %}
                <div class="alert text-center alert-danger" role="alert">
                 <p>{{ error_message }}</P>
                </div>
              {% endif %}
              {% if success_message %}
              <div class="alert alert-success text-center" role="alert">
                  <h2><strong>Success!</strong></h2>
                  <p>{{ success_message }}</p>
              </div>
              {% endif %}
            <div>
              <h1 class="text-center">
                <b>Student Registration Form</b>
              </h1>
            </div>
          </legend>

          <!-- Text input-->
          <h1>
            <b><i>Personal Information</i></b>
          </h1>
          <!-- Add Django form fields using template tags -->
          <div class="form-group">
            <label class="col-md-4 control-label">First Name</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-user"></i
                ></span>
                <input
                  name="first_name"
                  placeholder="First Name"
                  class="form-control"
                  type="text"
                />
              </div>
            </div>
          </div>

           <!-- Text input-->

           <div class="form-group">
            <label class="col-md-4 control-label">Last Name</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-user"></i
                ></span>
                <input
                  name="last_name"
                  placeholder="Last Name"
                  class="form-control"
                  type="text"
                />
              </div>
            </div>
          </div>
          <!-- D.O.G -->

          <div class="form-group">
            <label class="col-md-4 control-label">D.O.B</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-calendar"></i
                ></span>
                <input name="dob" type="date" />
              </div>
            </div>
          </div>

          <!-- CNIC -->

          <div class="form-group">
            <label class="col-md-4 control-label">CNIC</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-asterisk"></i
                ></span>
                <input
                  name="cnic"
                  placeholder="123456789123"
                  class="form-control"
                  type="text"
                />
              </div>
            </div>
          </div>

          <!-- radio checks Gender -->
          <div class="form-group">
            <label class="col-md-4 control-label">Gender</label>
            <div class="col-md-4">
              <div class="radio">
                <label>
                  <input type="radio" name="gender" value="Male" /> Male
                </label>
                <label>
                  <input type="radio" name="gender" value="Female" />Female
                </label>
                <label>
                  <input type="radio" name="gender" value="Other" />Other
                </label>
              </div>
            </div>
          </div>

          <!-- Text input-->
          <div class="form-group">
            <label class="col-md-4 control-label">E-Mail</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-envelope"></i
                ></span>
                <input
                  name="email"
                  placeholder="E-Mail Address"
                  class="form-control"
                  type="text"
                />
              </div>
            </div>
          </div>

          <div class="form-group">
            <label class="col-md-4 control-label">Password</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-envelope"></i
                ></span>
                <input
                  name="password"
                  placeholder="Password"
                  class="form-control"
                  type="password"
                />
              </div>
            </div>
          </div>

                    <div class="form-group">
            <label class="col-md-4 control-label">Confirm Password</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-envelope"></i
                ></span>
                <input
                  name="confirmPassword"
                  placeholder="Password"
                  class="form-control"
                  type="password"
                />
              </div>
            </div>
          </div>

          <!-- Text input-->

          <div class="form-group">
            <label class="col-md-4 control-label">Phone #</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-earphone"></i
                ></span>
                <input
                  name="phone"
                  placeholder="03131234567"
                  class="form-control"
                  type="text"
                />
              </div>
            </div>
          </div>

          <!-- Select Basic -->

          <div class="form-group">
            <label class="col-md-4 control-label">Province</label>
            <div class="col-md-4 selectContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-list"></i
                ></span>
                <select name="province" class="form-control selectpicker">
                  <option value=" ">Province</option>
                  <option>Punjab</option>
                  <option>Sindh</option>
                  <option>Baluchistan</option>
                  <option>Peshawar</option>
                  <option>Ex-Fata</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Text input-->

          <div class="form-group">
            <label class="col-md-4 control-label">City</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-home"></i
                ></span>
                <input
                  name="city"
                  placeholder="city"
                  class="form-control"
                  type="text"
                />
              </div>
            </div>
          </div>

          <!-- Text input-->

          <div class="form-group">
            <label class="col-md-4 control-label">Zip Code</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-home"></i
                ></span>
                <input
                  name="zip_code"
                  placeholder="Zip Code"
                  class="form-control"
                  type="text"
                />
              </div>
            </div>
          </div>
          <!-- Text input-->

          <div class="form-group">
            <label class="col-md-4 control-label">Address</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-home"></i
                ></span>
                <input
                  name="address"
                  placeholder="Address"
                  class="form-control"
                  type="text"
                />
              </div>
            </div>
          </div>
          <br />
          <hr />

          <!-- Educational Background -->

          <h1>
            <b><i>Education Records</i></b>
          </h1>
          <!-- Intermediate -->
          <div class="form-group">
            <label class="col-md-4 control-label">Intermediate</label>
            <div class="col-md-4 selectContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-list"></i
                ></span>
                <select name="intermediate" class="form-control selectpicker">
                  <option value=" ">Select</option>
                  <option>FSc pre-medical</option>
                  <option>Fsc-Pre-engineering</option>
                  <option>ICS</option>
                  <option>ICOM</option>
                  <option>A levels</option>
                </select>
              </div>
            </div>
          </div>
          <!-- Text input-->

          <div class="form-group">
            <label class="col-md-4 control-label">College Name</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-education"></i
                ></span>
                <input
                  name="college_name"
                  placeholder="xyz"
                  class="form-control"
                  type="text"
                />
              </div>
            </div>
          </div>
          <!-- D.O.B -->

          <div class="form-group">
            <label class="col-md-4 control-label">College Graduation Date</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-calendar"></i
                ></span>
                <input name="college_graduation_date" type="date" />
              </div>
            </div>
          </div>

          <!-- Obtained marks -->

          <div class="form-group">
            <label class="col-md-4 control-label">Obtained marks</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-education"></i
                ></span>
                <input
                  name="inter_obtained_marks"
                  placeholder="0-1100"
                  class="form-control"
                  type="number"
                />
              </div>
            </div>
          </div>
          <!-- Total marks -->

          <div class="form-group">
            <label class="col-md-4 control-label">Total marks</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-education"></i
                ></span>
                <input
                  name="inter_total_marks"
                  placeholder="0-1100"
                  class="form-control"
                  type="number"
                />
              </div>
            </div>
          </div>
          <!-- Matriculation -->
          <div class="form-group">
            <label class="col-md-4 control-label">Matriculation</label>
            <div class="col-md-4 selectContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-list"></i
                ></span>
                <select name="matriculation" class="form-control selectpicker">
                  <option value=" ">Select</option>
                  <option>Science</option>
                  <option>Arts</option>
                  <option>O levels</option>
                </select>
              </div>
            </div>
          </div>
          <!-- Text input-->

          <div class="form-group">
            <label class="col-md-4 control-label">School Name</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-education"></i
                ></span>
                <input
                  name="school_name"
                  placeholder="xyz"
                  class="form-control"
                  type="text"
                />
              </div>
            </div>
          </div>
          <!-- D.O.B -->

          <div class="form-group">
            <label class="col-md-4 control-label">Matric Graduation Date</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-calendar"></i
                ></span>
                <input name="matric_graduation_date"type="date" />
              </div>
            </div>
          </div>

          <!-- Obtained marks -->

          <div class="form-group">
            <label class="col-md-4 control-label">Obtained marks</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-education"></i
                ></span>
                <input
                  name="matric_obtained_marks"
                  placeholder="0-1100"
                  class="form-control"
                  type="number"
                />
              </div>
            </div>
          </div>
          <!-- Total marks -->

          <div class="form-group">
            <label class="col-md-4 control-label">Total marks</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-education"></i
                ></span>
                <input
                  name="matric_total_marks"
                  placeholder="0-1100"
                  class="form-control"
                  type="number"
                />
              </div>
            </div>
          </div>
          <br />
          <hr />
          <!-- DOCUMENTS -->
          <!-- Educational Background -->

          <h1>
            <b><i>Documents</i></b>
          </h1>
          <!-- Intermediate -->
          <!-- photo input-->

          <div class="form-group">
            <label class="col-md-4 control-label">Photo</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-education"></i
                ></span>
                <input
                  name="self_photo"
                  placeholder="xyz"
                  class="form-control"
                  type="file"
                />
              </div>
            </div>
          </div>
          <!-- CNIC Photo input-->

          <div class="form-group">
            <label class="col-md-4 control-label">ID card Photo</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-education"></i
                ></span>
                <input
                  name="id_card_photo"
                  placeholder="xyz"
                  class="form-control"
                  type="file"
                />
              </div>
            </div>
          </div>
          <!-- inter-transcript input-->

          <div class="form-group">
            <label class="col-md-4 control-label"
              >Intermediate Transcript</label
            >
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-education"></i
                ></span>
                <input
                  name="inter_transcript"
                  placeholder="xyz"
                  class="form-control"
                  type="file"
                />
              </div>
            </div>
          </div>
          <!-- Inter-degree -->
          <div class="form-group">
            <label class="col-md-4 control-label">Intermediate Degree</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-education"></i
                ></span>
                <input
                  name="inter_degree"
                  placeholder="xyz"
                  class="form-control"
                  type="file"
                />
              </div>
            </div>
          </div>
          <!-- matric-trasncript -->
          <div class="form-group">
            <label class="col-md-4 control-label">Metric transcript</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-education"></i
                ></span>
                <input
                  name="matric_transcript"
                  placeholder="xyz"
                  class="form-control"
                  type="file"
                />
              </div>
            </div>
          </div>
          <!-- matric-degree -->
          <div class="form-group">
            <label class="col-md-4 control-label">Metric Degree</label>
            <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
                <span class="input-group-addon"
                  ><i class="glyphicon glyphicon-education"></i
                ></span>
                <input
                  name="matric_degree"
                  placeholder="xyz"
                  class="form-control"
                  type="file"
                />
              </div>
            </div>
          </div>

          <!-- Button -->
          <div class="form-group">
            <label class="col-md-4 control-label"></label>
            <div class="col-md-4 text-center">
              <button type="submit" class="btn btn-lg btn-warning">Register</button>
            </div>
          </div>
        </fieldset>
      </form>
    </div>

    <!-- /.container -->
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->

    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>

    <!-- ... Your existing HTML code ... -->

<!-- JavaScript for Form Validation -->
<script>
  // Function to validate the form
  function validateForm() {
    // Get form elements
    var firstName = document.forms["contact_form"]["first_name"].value;
    var lastName = document.forms["contact_form"]["last_name"].value;
    var dob = document.forms["contact_form"]["dob"].value;
    var cnic = document.forms["contact_form"]["cnic"].value;
    var email = document.forms["contact_form"]["email"].value;
    var password = document.forms["contact_form"]["password"].value;
    var confirmPassword = document.forms["contact_form"]["confirmPassword"].value;
    var phone = document.forms["contact_form"]["phone"].value;
    var province = document.forms["contact_form"]["province"].value;
    var city = document.forms["contact_form"]["city"].value;
    var zipCode = document.forms["contact_form"]["zip_code"].value;
    var address = document.forms["contact_form"]["address"].value;
    var intermediate = document.forms["contact_form"]["intermediate"].value;
    var collegeName = document.forms["contact_form"]["college_name"].value;
    var collegeGraduationDate = document.forms["contact_form"]["college_graduation_date"].value;
    var interObtainedMarks = document.forms["contact_form"]["inter_obtained_marks"].value;
    var interTotalMarks = document.forms["contact_form"]["inter_total_marks"].value;
    var matriculation = document.forms["contact_form"]["matriculation"].value;
    var schoolName = document.forms["contact_form"]["school_name"].value;
    var matricGraduationDate = document.forms["contact_form"]["matric_graduation_date"].value;
    var matricObtainedMarks = document.forms["contact_form"]["matric_obtained_marks"].value;
    var matricTotalMarks = document.forms["contact_form"]["matric_total_marks"].value;
    var selfPhoto = document.forms["contact_form"]["self_photo"].value;
    var idCardPhoto = document.forms["contact_form"]["id_card_photo"].value;
    var interTranscript = document.forms["contact_form"]["inter_transcript"].value;
    var interDegree = document.forms["contact_form"]["inter_degree"].value;
    var matricTranscript = document.forms["contact_form"]["matric_transcript"].value;
    var matricDegree = document.forms["contact_form"]["matric_degree"].value;

    // Check if any of the required fields are empty
    if (
      firstName == "" ||
      lastName == "" ||
      dob == "" ||
      cnic == "" ||
      email == "" ||
      password == "" ||
      phone == "" ||
      province == "" ||
      city == "" ||
      zipCode == "" ||
      address == "" ||
      intermediate == "" ||
      collegeName == "" ||
      collegeGraduationDate == "" ||
      interObtainedMarks == "" ||
      interTotalMarks == "" ||
      matriculation == "" ||
      schoolName == "" ||
      matricGraduationDate == "" ||
      matricObtainedMarks == "" ||
      matricTotalMarks == "" ||
      selfPhoto == "" ||
      idCardPhoto == "" ||
      interTranscript == "" ||
      interDegree == "" ||
      matricTranscript == "" ||
      matricDegree == ""
    ) {
      alert("All fields are required. Please fill out all required fields.");
      return false;
    }
        // Check if first name and last name are not empty
    if (firstName == "" || lastName == "") {
      alert("First Name and Last Name must be filled out");
      return false;
    }
    // Check if CNIC is a 12-digit number
    if (cnic.length != 13 || isNaN(cnic)) {
      alert("CNIC must be a 12-digit number");
      return false;
    }

    // Check if email is in a valid format
    var emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
    if (!emailPattern.test(email)) {
      alert("Please enter a valid email address.");
      return false;
    }
    if (password !== confirmPassword) {
      alert("Passwords do not match");
      return false;
    }

    // Check if phone number is a valid format (e.g., 123-456-7890)
    var phonePattern = /^\d{3}-\d{3}-\d{4}$/;
    if (!phonePattern.test(phone)) {
      alert("Please enter a valid phone number (e.g., 123-456-7890).");
      return false;
    }

 
    // Check if zip code is a valid format (e.g., 12345 or 12345-6789)
    var zipCodePattern = /^\d{5}(-\d{4})?$/;
    if (!zipCodePattern.test(zipCode)) {
      alert("Please enter a valid zip code (e.g., 12345 or 12345-6789).");
      return false;
    }

    // Check if date of birth (DOB) is in a valid format (e.g., YYYY-MM-DD)
    var dobPattern = /^\d{4}-\d{2}-\d{2}$/;
    if (!dobPattern.test(dob)) {
      alert("Please enter a valid date of birth (e.g., YYYY-MM-DD).");
      return false;
    }

    // Check if matriculation obtained marks are a number between 0 and 1000
    var matricObtainedMarksValue = parseFloat(matricObtainedMarks);
    if (isNaN(matricObtainedMarksValue) || matricObtainedMarksValue < 0 || matricObtainedMarksValue > 1000) {
      alert("Please enter a valid number for matriculation obtained marks between 0 and 1000.");
      return false;
    }
    // Check if intermediate obtained marks are a number between 0 and 1000
    var interObtainedMarksValue = parseFloat(interObtainedMarks);
    if (isNaN(interObtainedMarksValue) || interObtainedMarksValue < 0 || interObtainedMarksValue > 1000) {
      alert("Please enter a valid number for intermediate obtained marks between 0 and 1000.");
      return false;
    }

    // Check if matriculation total marks are a number between 0 and 1000
    var matricTotalMarksValue = parseFloat(matricTotalMarks);
    if (isNaN(matricTotalMarksValue) || matricTotalMarksValue < 0 || matricTotalMarksValue > 1000) {
      alert("Please enter a valid number for matriculation total marks between 0 and 1000.");
      return false;
    }

    // Check if college graduation date is in a valid format (e.g., YYYY-MM-DD)
    var collegeGraduationDatePattern = /^\d{4}-\d{2}-\d{2}$/;
    if (!collegeGraduationDatePattern.test(collegeGraduationDate)) {
      alert("Please enter a valid college graduation date (e.g., YYYY-MM-DD).");
      return false;
    }

    // Check if matric graduation date is in a valid format (e.g., YYYY-MM-DD)
    var matricGraduationDatePattern = /^\d{4}-\d{2}-\d{2}$/;
    if (!matricGraduationDatePattern.test(matricGraduationDate)) {
      alert("Please enter a valid matriculation graduation date (e.g., YYYY-MM-DD).");
      return false;
    }





    return true;
  }
</script>

</body>
</html>
